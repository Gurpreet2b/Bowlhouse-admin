<form action="" [formGroup]="form">
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label for="">Subject <span class="required">*</span></label>
                <input type="text" formControlName="topic" class="form-control" placeholder="Enter Subject Name">
                <div *ngIf="form.controls['topic'].invalid && (form.controls['topic'].dirty || form.controls['topic'].touched)"
                    class="alert1">
                    <div *ngIf="form.controls['topic'].errors.required">
                        Please enter subject name.
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <label for="">Assign To <span class="required">*</span></label>
                <select formControlName="tag" class="form-control">
                    <option value="" selected>Select Assign To</option>
                    <option value="self">Self</option>
                    <option value="admin">Admin</option>
                    <option value="finance">Finance</option>
                </select>
                <div *ngIf="form.controls['tag'].invalid && (form.controls['tag'].dirty || form.controls['tag'].touched)"
                    class="alert1">
                    <div *ngIf="form.controls['tag'].errors.required">
                        Please select tag.
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <label for="">Type <span class="required">*</span></label>
                <select formControlName="type" class="form-control" (change)="IsTypeChange($event)">
                    <option value="" selected>Select Type</option>
                    <option value="customer_order">Customer Order</option>
                    <option value="restaurant_related">Restaurant Related</option>
                    <option value="admin_related">Admin Related</option>
                </select>
                <div *ngIf="form.controls['type'].invalid && (form.controls['type'].dirty || form.controls['type'].touched)"
                    class="alert1">
                    <div *ngIf="form.controls['type'].errors.required">
                        Please select Type.
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12" *ngIf="IsType === 'customer_order'">
            <div class="form-group">
                <label for="">Sub Type <span class="required">*</span></label>
                <select formControlName="subtype" class="form-control">
                    <option value="" selected>Select Sub Type</option>
                    <option value="payment_refund_bill">Payment, refund and bill related queries</option>
                    <option value="order_not_received">Order not received</option>
                    <option value="missing _item">Missing item in Order</option>
                    <option value="Wrong_item">Wrong item delivered</option>
                    <option value="item_quantity">Item quantity inadequate</option>
                    <option value="packaging_issue">Packaging & Spillage Issue</option>
                    <option value="Coupon_issue">Coupon related issue</option>
                    <option value="Incorrectly_item">Incorrectly items cooked</option>
                    <option value="subscription">Subscription</option>
                </select>
                <div *ngIf="form.controls['subtype'].invalid && (form.controls['subtype'].dirty || form.controls['subtype'].touched)"
                    class="alert1">
                    <div *ngIf="form.controls['subtype'].errors.required">
                        Please select Sub Type.
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12" *ngIf="IsType === 'restaurant_related'">
            <div class="form-group">
                <label for="">Sub Type <span class="required">*</span></label>
                <select formControlName="subtype" class="form-control">
                    <option value="" selected>Select Sub Type</option>
                    <option value="login_issues">Login Issues</option>
                    <option value="restaurant_updation">Restaurant Information Updation Issues</option>
                    <option value="menu_updation">Menu Updation Issues</option>
                    <option value="order_issues">Order Related Issues</option>
                    <option value="issue_payment_restaurant">Issue in payment to restaurant</option>
                    <option value="others">Others</option>
                </select>
                <div *ngIf="form.controls['subtype'].invalid && (form.controls['subtype'].dirty || form.controls['subtype'].touched)"
                    class="alert1">
                    <div *ngIf="form.controls['subtype'].errors.required">
                        Please select Sub Type.
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12" *ngIf="IsType === 'admin_related'">
            <div class="form-group">
                <label for="">Sub Type <span class="required">*</span></label>
                <select formControlName="subtype" class="form-control">
                    <option value="" selected>Select Sub Type</option>
                    <option value="portal_issues">Portal related issues</option>
                    <option value="customer_payment_issues">Customer Payment issues</option>
                    <option value="payment_restaurant_issues">Payment to restaurant issues</option>
                    <option value="others">Others</option>
                </select>
                <div *ngIf="form.controls['subtype'].invalid && (form.controls['subtype'].dirty || form.controls['subtype'].touched)"
                    class="alert1">
                    <div *ngIf="form.controls['subtype'].errors.required">
                        Please select Sub Type.
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <label for="">Order Id</label>
                <input type="number" formControlName="order" class="form-control" placeholder="Enter Order Id">
                <!-- <div *ngIf="form.controls['order'].invalid && (form.controls['order'].dirty || form.controls['order'].touched)"
                    class="alert1">
                    <div *ngIf="form.controls['order'].errors.required">
                        Please enter order Id.
                    </div>
                </div> -->
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <label for="">Description</label>
                <textarea class="form-control" rows="2" formControlName="message" placeholder="Enter Description"></textarea>
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <label for="">Attachment</label>
                <div>
                    <input type="file" id="picture" accept="image/*" 
                        (change)="onSelectFile($event)" >
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark btn-sm" (click)="onDismiss()">Close</button>
        <button class="btn btn-secondary btn-sm" (click)="onSubmit()">Save</button>
        <img src="../../../../../../assets/images/loader.gif" *ngIf="loading">
    </div>
</form>